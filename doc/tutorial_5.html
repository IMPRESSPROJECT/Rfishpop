<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Marta Cousido Rocha, Santiago Cerviño López, Maria Grazia Pennino" />

<meta name="date" content="2020-08-24" />

<title>Rfishpop (Fifth tutorial)</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Rfishpop (Fifth tutorial)</h1>
<h4 class="author">Marta Cousido Rocha, Santiago Cerviño López, Maria Grazia Pennino</h4>
<h4 class="date">2020-08-24</h4>



<div id="population-dynamic-tools-in-support-of-fisheries-managment" class="section level2">
<h2>Population dynamic tools in support of fisheries managment</h2>
<p>As we mentioned in the previous tutorials the aim of the package is to implement a completed MSE (management strategy evaluation) cycle.</p>
<p>The firsts steps of this cycle have been explained in the previous tutorials:</p>
<ul>
<li><p>The operating model used to generate “true” ecosystem dynamics including the natural variations in the system.</p></li>
<li><p>The sampling procedure from the operating model to mimic collection of fishery dependent data and research surveys (and their inherent variability).</p></li>
<li><p>These data are passed to the assessment model.</p></li>
</ul>
<p>After these steps the next point is based on this assessment and the HCR (Haverst Control Rule), determine a management action (e.g., a change in the TAC). Fleet effort and catch are then modelled, and <strong>resulting catches are fed back into the operating model</strong>.</p>
<p><span style="color:red">NOTE: Our package does not implement a generic function implementing a HCR yet but is coming.</span></p>
<p>In this tutorial we focus on explaining the use of the <span style="color:blue">function to fed back into the operating model the resulting catches or fleet effort.</span></p>
<div id="projecting-our-exploited-population-on-based-of-desired-catches-or-efforts" class="section level3">
<h3><span style="color:blue"> Projecting our Exploited Population on based of desired catches or efforts</span></h3>
<p>This function allows us to extend our simulated Population through the years on based of the desired catches for such years (strategy=“catch”) or on based of the desired effort f (component of fishing mortality F = f * SEL) for such years (strategy=“effort”).</p>
<p>The arguments of this function are described above:</p>
<ul>
<li><p><em>Pop.Mod</em> A list containing the components returned by Population.Modeling function (main function).</p></li>
<li><p><em>new.years</em> The years for which our Population must be projected.</p></li>
<li><p><em>my.catch</em> Weight of the catches for each of the years for which the projections are carried out.</p></li>
<li><p><em>tol</em> The level of tolerence in the optimization process. If tol=NULL the default value of 0.01 is used.</p></li>
<li><p><em>limit.f</em> Maximum value of effort f (component of fishing mortality F = f * SEL) considered in the optimization process. If limit.f=NULL the default value of 4 is used.</p></li>
<li><p><em>strategy</em> The strategy for the next years, this can be “catch” if we want to fix the catches for the next years (argument my.catch must be used) or “effort” if we want to fix the value of effort f, component of fishing mortality F = f * SEL (argument my.effort must be used).</p></li>
<li><p><em>my.effort</em> A vector containing for the projecting years the value for which the effort of the last year must be multiplied to obtain the desired effort f (component of fishing mortality F = f * SEL) for the new years.</p></li>
<li><p><em>M.new.years</em> A matrix containing the rates of instantaneous natural mortality for each of the new.years and age. If it is null the M corresponding to the last year in Pop.Mod object is used.</p></li>
</ul>
<p><span style="color:red">NOTE: This package is an open and developing project, for this reason this function must still be optimized for good execution times.</span></p>
<p>The function <strong>returns</strong> the object Pop.Mod updated containing the information for the new years for which the population has been projected.</p>
<p>The first point to illustrate the use of this function is to create a population. In this case as we can see below logistic selectivity and Ricker recruitment model are used.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(Rfishpop)</a>
<a class="sourceLine" id="cb1-2" title="2">ctrPop&lt;-<span class="kw">list</span>(<span class="dt">years=</span><span class="kw">seq</span>(<span class="dv">1980</span>,<span class="dv">2020</span>,<span class="dt">by=</span><span class="dv">1</span>),<span class="dt">niter=</span><span class="dv">2</span>,<span class="dt">N0=</span><span class="dv">10000</span>,<span class="dt">ages=</span><span class="dv">0</span><span class="op">:</span><span class="dv">15</span>,<span class="dt">minFage=</span><span class="dv">4</span>,</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="dt">maxFage=</span><span class="dv">7</span>,<span class="dt">ts=</span><span class="fl">0.2</span>,<span class="dt">tc=</span><span class="fl">0.5</span>,<span class="dt">tseed=</span><span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">number_ages&lt;-<span class="kw">length</span>(ctrPop<span class="op">$</span>ages);number_years&lt;-<span class="kw">length</span>(ctrPop<span class="op">$</span>years)</a>
<a class="sourceLine" id="cb1-6" title="6">M&lt;-<span class="kw">matrix</span>(<span class="kw">rep</span>(<span class="fl">0.4</span>,number_ages<span class="op">*</span>number_years),<span class="dt">ncol =</span> number_years)</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="kw">colnames</span>(M)&lt;-ctrPop<span class="op">$</span>years</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">rownames</span>(M)&lt;-ctrPop<span class="op">$</span>ages</a>
<a class="sourceLine" id="cb1-9" title="9">ctrBio&lt;-<span class="kw">list</span>(<span class="dt">M=</span>M,<span class="dt">CV_M=</span><span class="fl">0.2</span>, <span class="dt">L_inf=</span><span class="fl">124.5</span>, <span class="dt">t0=</span><span class="dv">0</span>, <span class="dt">k=</span><span class="fl">0.164</span>, <span class="dt">CV_L=</span><span class="fl">0.2</span>, <span class="dt">CV_LC=</span><span class="fl">0.2</span>, <span class="dt">a=</span><span class="fl">4.5</span><span class="op">*</span><span class="dv">10</span><span class="op">^</span>(<span class="op">-</span><span class="dv">6</span>), <span class="dt">b=</span><span class="fl">3.1049</span>,</a>
<a class="sourceLine" id="cb1-10" title="10">           <span class="dt">a50_Mat=</span><span class="dv">3</span>, <span class="dt">ad_Mat=</span><span class="op">-</span><span class="fl">0.5</span>,<span class="dt">CV_Mat=</span><span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13">ctrSEL&lt;-<span class="kw">list</span>(<span class="dt">type=</span><span class="st">&quot;Logistic&quot;</span>, <span class="dt">par=</span><span class="kw">list</span>(<span class="dt">a50_Sel=</span><span class="fl">1.5</span>, <span class="dt">ad_Sel=</span><span class="op">-</span><span class="dv">1</span>),<span class="dt">CV_SEL=</span><span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">f=<span class="kw">matrix</span>(<span class="kw">rep</span>(<span class="fl">0.5</span>,number_years),<span class="dt">ncol=</span>number_years,<span class="dt">nrow=</span><span class="dv">2</span>,<span class="dt">byrow=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-16" title="16">ctrFish&lt;-<span class="kw">list</span>(<span class="dt">f=</span>f,<span class="dt">ctrSEL=</span>ctrSEL)</a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18">a_BH=<span class="dv">10000</span>; b_BH=<span class="dv">400</span>; CV_REC_BH=<span class="fl">0.2</span>; a_RK=<span class="dv">10</span>; b_RK=<span class="fl">0.0002</span>; CV_REC_RK=<span class="fl">0.2</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20">SR&lt;-<span class="kw">list</span>(<span class="dt">type=</span><span class="st">&quot;RK&quot;</span>,<span class="dt">par=</span><span class="kw">c</span>(a_RK,b_RK,CV_REC_RK))</a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22">Pop.Mod&lt;-<span class="kw">Population.Modeling</span>(<span class="dt">ctrPop=</span>ctrPop,<span class="dt">ctrBio=</span>ctrBio,<span class="dt">ctrFish=</span>ctrFish,<span class="dt">SR=</span>SR)</a></code></pre></div>
<p>Assume that the resulting catches are 1500 then to extend our simulated Population through 2021 on based of such catches we only need to use the following line of code.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">Pop.Mod1=<span class="kw">Population.Modeling.Projections</span>(Pop.Mod,<span class="dt">new.years=</span><span class="dv">2021</span>,<span class="dt">my.catch=</span><span class="dv">1500</span>,<span class="dt">limit.f=</span><span class="ot">NULL</span>,<span class="dt">tol=</span><span class="ot">NULL</span>,<span class="dt">strategy=</span><span class="st">&quot;catch&quot;</span>)</a></code></pre></div>
<p>Using Sum.Pop.Mod we can check if effectively the catches for 2021 are 1500.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">Sum.Pop.Mod</span>(Pop.Mod1,<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<pre><code>## $C
## , , 1
## 
##      1980     1981     1982     1983     1984     1985     1986     1987
##  2059.387 2138.715 2402.705 2771.513 3097.316 3337.549 3508.811 3625.021
##      1988    1989     1990     1991     1992     1993     1994     1995    1996
##  3694.019 3726.44 3735.136 3731.618 3724.084 3717.146 3712.571 3710.385 3709.87
##      1997     1998     1999     2000    2001    2002     2003     2004     2005
##  3710.215 3710.816 3711.343 3711.677 3711.83 3711.86 3711.829 3711.782 3711.743
##      2006     2007     2008     2009     2010     2011     2012     2013
##  3711.719 3711.708 3711.707 3711.709 3711.713 3711.716 3711.717 3711.718
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3711.718 3711.718 3711.718 3711.718 3711.717 3711.717 3711.717 1504.518
## 
## , , 2
## 
##      1980     1981     1982     1983     1984     1985     1986   1987     1988
##  2028.683 2984.359 3536.517 8751.167 4380.928 8314.632 3150.415 3605.6 3145.374
##     1989     1990    1991     1992     1993     1994     1995     1996     1997
##  2290.85 3599.484 4421.87 4271.457 4975.029 3719.078 4306.159 4407.237 3564.254
##      1998     1999     2000     2001     2002     2003     2004     2005
##  4042.513 6125.711 3159.775 3387.096 3395.975 1423.208 2446.883 2231.257
##      2006     2007     2008     2009     2010     2011    2012     2013
##  3245.519 5132.631 4331.169 1514.908 2768.728 4005.154 6421.81 3590.849
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3374.576 3142.864 3048.947 3358.959 2066.056 4347.643 3355.384 1513.308</code></pre>
<p>Below, we can check the effort corresponding to such catches.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">EF=Pop.Mod1<span class="op">$</span>Info<span class="op">$</span>ctrFish<span class="op">$</span>f</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">colnames</span>(EF)&lt;-<span class="kw">c</span>(ctrPop<span class="op">$</span>years,<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">rownames</span>(EF)&lt;-<span class="kw">c</span>(<span class="st">&quot;Iter 1&quot;</span>,<span class="st">&quot;Iter 2&quot;</span>)</a>
<a class="sourceLine" id="cb5-4" title="4">EF</a></code></pre></div>
<pre><code>##        1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##        1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##        2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##             2021
## Iter 1 0.1801567
## Iter 2 0.1189864</code></pre>
<p>As we mentioned before we can check also the effect of reducing the effort to any percentage of the effort in the previous year. For example, the next line extends the Pop.Mod object reducing the effort to a 60% of the effort in the previous year 2020.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">Pop.Mod2=<span class="kw">Population.Modeling.Projections</span>(Pop.Mod,<span class="dt">new.years=</span><span class="dv">2021</span>,<span class="dt">my.effort=</span><span class="fl">0.6</span>,<span class="dt">limit.f=</span><span class="ot">NULL</span>,<span class="dt">tol=</span><span class="ot">NULL</span>,<span class="dt">strategy=</span><span class="st">&quot;effort&quot;</span>)</a></code></pre></div>
<p>We can check the decrease in catches below.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">Sum.Pop.Mod</span>(Pop.Mod2,<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<pre><code>## $C
## , , 1
## 
##      1980     1981     1982     1983     1984     1985     1986     1987
##  2059.387 2138.715 2402.705 2771.513 3097.316 3337.549 3508.811 3625.021
##      1988    1989     1990     1991     1992     1993     1994     1995    1996
##  3694.019 3726.44 3735.136 3731.618 3724.084 3717.146 3712.571 3710.385 3709.87
##      1997     1998     1999     2000    2001    2002     2003     2004     2005
##  3710.215 3710.816 3711.343 3711.677 3711.83 3711.86 3711.829 3711.782 3711.743
##      2006     2007     2008     2009     2010     2011     2012     2013
##  3711.719 3711.708 3711.707 3711.709 3711.713 3711.716 3711.717 3711.718
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3711.718 3711.718 3711.718 3711.718 3711.717 3711.717 3711.717 2395.376
## 
## , , 2
## 
##      1980     1981     1982     1983     1984     1985     1986   1987     1988
##  2028.683 2984.359 3536.517 8751.167 4380.928 8314.632 3150.415 3605.6 3145.374
##     1989     1990    1991     1992     1993     1994     1995     1996     1997
##  2290.85 3599.484 4421.87 4271.457 4975.029 3719.078 4306.159 4407.237 3564.254
##      1998     1999     2000     2001     2002     2003     2004     2005
##  4042.513 6125.711 3159.775 3387.096 3395.975 1423.208 2446.883 2231.257
##      2006     2007     2008     2009     2010     2011    2012     2013
##  3245.519 5132.631 4331.169 1514.908 2768.728 4005.154 6421.81 3590.849
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3374.576 3142.864 3048.947 3358.959 2066.056 4347.643 3355.384 1947.693</code></pre>
<p>We can also access to the effort.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">EF=Pop.Mod2<span class="op">$</span>Info<span class="op">$</span>ctrFish<span class="op">$</span>f</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">colnames</span>(EF)&lt;-<span class="kw">c</span>(ctrPop<span class="op">$</span>years,<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">rownames</span>(EF)&lt;-<span class="kw">c</span>(<span class="st">&quot;Iter 1&quot;</span>,<span class="st">&quot;Iter 2&quot;</span>)</a>
<a class="sourceLine" id="cb10-4" title="4">EF</a></code></pre></div>
<pre><code>##        1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##        1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##        2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.3
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.3</code></pre>
<p>We can project our population through several years directly as follows. As you can see the population is extended two years, 2021 and 2022, and the corresponding catches for such years are 1500 and 1600, respectively.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">Pop.Mod3=<span class="kw">Population.Modeling.Projections</span>(Pop.Mod,<span class="dt">new.years=</span><span class="kw">c</span>(<span class="dv">2021</span>,<span class="dv">2022</span>),<span class="dt">my.catch=</span><span class="kw">c</span>(<span class="dv">1500</span>,<span class="dv">1600</span>),<span class="dt">limit.f=</span><span class="ot">NULL</span>,<span class="dt">tol=</span><span class="ot">NULL</span>,<span class="dt">strategy=</span><span class="st">&quot;catch&quot;</span>)</a></code></pre></div>
<p>Again we can check that the resulting catches for such years are closed to the desired values 1500 and 1600, respectively.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">Sum.Pop.Mod</span>(Pop.Mod3,<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<pre><code>## $C
## , , 1
## 
##      1980     1981     1982     1983     1984     1985     1986     1987
##  2059.387 2138.715 2402.705 2771.513 3097.316 3337.549 3508.811 3625.021
##      1988    1989     1990     1991     1992     1993     1994     1995    1996
##  3694.019 3726.44 3735.136 3731.618 3724.084 3717.146 3712.571 3710.385 3709.87
##      1997     1998     1999     2000    2001    2002     2003     2004     2005
##  3710.215 3710.816 3711.343 3711.677 3711.83 3711.86 3711.829 3711.782 3711.743
##      2006     2007     2008     2009     2010     2011     2012     2013
##  3711.719 3711.708 3711.707 3711.709 3711.713 3711.716 3711.717 3711.718
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3711.718 3711.718 3711.718 3711.718 3711.717 3711.717 3711.717 1504.518
##      2022
##  1584.636
## 
## , , 2
## 
##      1980     1981     1982     1983     1984     1985     1986   1987     1988
##  2028.683 2984.359 3536.517 8751.167 4380.928 8314.632 3150.415 3605.6 3145.374
##     1989     1990    1991     1992     1993     1994     1995     1996     1997
##  2290.85 3599.484 4421.87 4271.457 4975.029 3719.078 4306.159 4407.237 3564.254
##      1998     1999     2000     2001     2002     2003     2004     2005
##  4042.513 6125.711 3159.775 3387.096 3395.975 1423.208 2446.883 2231.257
##      2006     2007     2008     2009     2010     2011    2012     2013
##  3245.519 5132.631 4331.169 1514.908 2768.728 4005.154 6421.81 3590.849
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3374.576 3142.864 3048.947 3358.959 2066.056 4347.643 3355.384 1500.229
##      2022
##  1597.523</code></pre>
<p>We can also use tol argument to increase the level of tolerance in the optimization process obtaining more accurate numbers. Note increasing the level of tolerance we also increase the time of computation. Although this function, as we mentioned previously, will be faster than now soon after an optimization process.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">Pop.Mod3b=<span class="kw">Population.Modeling.Projections</span>(Pop.Mod,<span class="dt">new.years=</span><span class="kw">c</span>(<span class="dv">2021</span>,<span class="dv">2022</span>),<span class="dt">my.catch=</span><span class="kw">c</span>(<span class="dv">1500</span>,<span class="dv">1600</span>),<span class="dt">limit.f=</span><span class="ot">NULL</span>,<span class="dt">tol=</span><span class="fl">0.001</span>,<span class="dt">strategy=</span><span class="st">&quot;catch&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">Sum.Pop.Mod</span>(Pop.Mod3b,<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<pre><code>## $C
## , , 1
## 
##      1980     1981     1982     1983     1984     1985     1986     1987
##  2059.387 2138.715 2402.705 2771.513 3097.316 3337.549 3508.811 3625.021
##      1988    1989     1990     1991     1992     1993     1994     1995    1996
##  3694.019 3726.44 3735.136 3731.618 3724.084 3717.146 3712.571 3710.385 3709.87
##      1997     1998     1999     2000    2001    2002     2003     2004     2005
##  3710.215 3710.816 3711.343 3711.677 3711.83 3711.86 3711.829 3711.782 3711.743
##      2006     2007     2008     2009     2010     2011     2012     2013
##  3711.719 3711.708 3711.707 3711.709 3711.713 3711.716 3711.717 3711.718
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3711.718 3711.718 3711.718 3711.718 3711.717 3711.717 3711.717 1501.079
##      2022
##  1599.453
## 
## , , 2
## 
##      1980     1981     1982     1983     1984     1985     1986   1987     1988
##  2028.683 2984.359 3536.517 8751.167 4380.928 8314.632 3150.415 3605.6 3145.374
##     1989     1990    1991     1992     1993     1994     1995     1996     1997
##  2290.85 3599.484 4421.87 4271.457 4975.029 3719.078 4306.159 4407.237 3564.254
##      1998     1999     2000     2001     2002     2003     2004     2005
##  4042.513 6125.711 3159.775 3387.096 3395.975 1423.208 2446.883 2231.257
##      2006     2007     2008     2009     2010     2011    2012     2013
##  3245.519 5132.631 4331.169 1514.908 2768.728 4005.154 6421.81 3590.849
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3374.576 3142.864 3048.947 3358.959 2066.056 4347.643 3355.384 1500.675
##      2022
##  1598.232</code></pre>
<p>We can also use the argument M.new.years to change the instantaneous natural mortality for each of the new.years and age. In this example, we increase it from 0.4 to 0.7.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">M&lt;-<span class="kw">matrix</span>(<span class="kw">rep</span>(<span class="fl">0.7</span>,number_ages<span class="op">*</span>number_years),<span class="dt">ncol =</span> number_years)</a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">colnames</span>(M)&lt;-ctrPop<span class="op">$</span>years</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="kw">rownames</span>(M)&lt;-ctrPop<span class="op">$</span>ages</a>
<a class="sourceLine" id="cb18-4" title="4"></a>
<a class="sourceLine" id="cb18-5" title="5">Pop.Mod4=<span class="kw">Population.Modeling.Projections</span>(Pop.Mod,<span class="dt">new.years=</span><span class="dv">2021</span>,<span class="dt">my.catch=</span><span class="dv">1500</span>,<span class="dt">limit.f=</span><span class="ot">NULL</span>,<span class="dt">tol=</span><span class="ot">NULL</span>,<span class="dt">strategy=</span><span class="st">&quot;catch&quot;</span>,<span class="dt">M.new.years=</span>M)</a></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">Sum.Pop.Mod</span>(Pop.Mod4,<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<pre><code>## $C
## , , 1
## 
##      1980     1981     1982     1983     1984     1985     1986     1987
##  2059.387 2138.715 2402.705 2771.513 3097.316 3337.549 3508.811 3625.021
##      1988    1989     1990     1991     1992     1993     1994     1995    1996
##  3694.019 3726.44 3735.136 3731.618 3724.084 3717.146 3712.571 3710.385 3709.87
##      1997     1998     1999     2000    2001    2002     2003     2004     2005
##  3710.215 3710.816 3711.343 3711.677 3711.83 3711.86 3711.829 3711.782 3711.743
##      2006     2007     2008     2009     2010     2011     2012     2013
##  3711.719 3711.708 3711.707 3711.709 3711.713 3711.716 3711.717 3711.718
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3711.718 3711.718 3711.718 3711.718 3711.717 3711.717 3711.717 1510.444
## 
## , , 2
## 
##      1980     1981     1982     1983     1984     1985     1986   1987     1988
##  2028.683 2984.359 3536.517 8751.167 4380.928 8314.632 3150.415 3605.6 3145.374
##     1989     1990    1991     1992     1993     1994     1995     1996     1997
##  2290.85 3599.484 4421.87 4271.457 4975.029 3719.078 4306.159 4407.237 3564.254
##      1998     1999     2000     2001     2002     2003     2004     2005
##  4042.513 6125.711 3159.775 3387.096 3395.975 1423.208 2446.883 2231.257
##      2006     2007     2008     2009     2010     2011    2012     2013
##  3245.519 5132.631 4331.169 1514.908 2768.728 4005.154 6421.81 3590.849
##      2014     2015     2016     2017     2018     2019     2020     2021
##  3374.576 3142.864 3048.947 3358.959 2066.056 4347.643 3355.384 1506.615</code></pre>
<p>We can see that the increase in natural mortality implies an increase in the effort required to obtain the same catches.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">EF=Pop.Mod4<span class="op">$</span>Info<span class="op">$</span>ctrFish<span class="op">$</span>f</a>
<a class="sourceLine" id="cb21-2" title="2"><span class="kw">colnames</span>(EF)&lt;-<span class="kw">c</span>(ctrPop<span class="op">$</span>years,<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb21-3" title="3"><span class="kw">rownames</span>(EF)&lt;-<span class="kw">c</span>(<span class="st">&quot;Iter 1&quot;</span>,<span class="st">&quot;Iter 2&quot;</span>)</a>
<a class="sourceLine" id="cb21-4" title="4">EF</a></code></pre></div>
<pre><code>##        1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##        1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##        2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020
## Iter 1  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
## Iter 2  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
##             2021
## Iter 1 0.2086325
## Iter 2 0.3134018</code></pre>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
